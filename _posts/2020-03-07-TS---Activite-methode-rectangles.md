---
keywords: fastai
description: Découverte de l'algorithme des rectangles pour le calcul approché d'une intégrale
title: Intégration - Méthode des rectangles
toc: true
badges: true
comments: false
categories: [maths, TS, algorithmique]
nb_path: _notebooks/2020-03-07-TS - Activite methode rectangles.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-03-07-TS - Activite methode rectangles.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Probl&#233;matique">Probl&#233;matique<a class="anchor-link" href="#Probl&#233;matique"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On considère dans cette activité la fonction $f$ définie sur
$[0 ;2]$ par $f (x) = 4 − x^2$ et $\mathcal C$ sa courbe représentative dans
un repère orthonormé.</p>
<p>L'objectif de cette activité est de calculer l'aire du domaine délimité</p>
<ul>
<li>d'une part par les droites d'équation $x=0$ et $x=2$</li>
<li>d'autre part par l'axe des asbcisses et la courbe $\mathcal C$</li>
</ul>
<p><img src="/images/copied_from_nb/img1.png" alt=""></p>
<p>En d'autre termes, nous cherchons à déterminer l'aire hachurée en rouge sous la courbe $\mathcal C$ pour $x$ compris entre 0 et 2.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="La-m&#233;thode-des-rectangles">La m&#233;thode des rectangles<a class="anchor-link" href="#La-m&#233;thode-des-rectangles"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>L’idée va être d’encadrer l’aire recherchée par deux aires que l’on peut calculer aisément. On utilise pour
cela des figures très élémentaires : des rectangles.</p>
<p>Nous allons calculer un minorant de l'aire en inscrivant des rectangles sous la courbe (voir rectangles rouges) et un majorant de l'aire en construisant des rectangles au dessus de la courbe (voir rectangles bleus).</p>
<p><img src="/images/copied_from_nb/img2.png" alt=""></p>
<p>En effet, l'aire d'un rectangle est facile à calculer. Il suffit donc de faire la somme des aires de chacun des rectangles pour obtenir un encadrement de l'aire recherchée.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Rectangles-inf&#233;rieurs-(rouges)">Rectangles inf&#233;rieurs (rouges)<a class="anchor-link" href="#Rectangles-inf&#233;rieurs-(rouges)"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On cherche à déterminer l'aire du rectangle dont la base est située entre les abscisses $x$ et $x+dx$ (dx désignant la largeur de chaque rectangle) et dont la hauteur est telle que le rectangle soit situé juste sous la courbe $\mathcal C$.</p>
<p>Exprimer cette aire en fonction de $x$, $dx$ et la fonction $f$</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># collapse</span>

<span class="c1"># aireInf = dx * f(x+dx)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Rectangles-sup&#233;rieurs-(bleus)">Rectangles sup&#233;rieurs (bleus)<a class="anchor-link" href="#Rectangles-sup&#233;rieurs-(bleus)"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On cherche à déterminer l'aire du rectangle dont la base est située entre les abscisses $x$ et $x+dx$ (dx désignant la largeur de chaque rectangle) et dont la hauteur est telle que le rectangle soit situé juste au dessus de la courbe $\mathcal C$.</p>
<p>Exprimer cette aire en fonction de $x$, $dx$ et la fonction $f$</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># collapse</span>

<span class="c1"># aireSup = dx * f(x)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Le-programme">Le programme<a class="anchor-link" href="#Le-programme"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># On définit notre fonction f</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">4</span><span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">x</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Compléter le programme ci-dessous dont le but est de calculer la somme des aires des rectangles sous la courbe (rouges) et la somme des aires des rectangles au dessus de la courbe (bleus).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Complétez l&#39;algorithme</span>

<span class="k">def</span> <span class="nf">rectangles</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">dx</span><span class="o">=...</span>         <span class="c1"># ... Largeur d&#39;un rectangle</span>

    <span class="n">sommeInf</span> <span class="o">=</span> <span class="o">...</span> <span class="c1"># Aire des rectangles inférieurs</span>
    <span class="n">sommeSup</span> <span class="o">=</span> <span class="o">...</span> <span class="c1"># Aire des rectangles supérieurs</span>

    <span class="c1"># Traitement</span>

    <span class="n">x</span><span class="o">=...</span>          <span class="c1"># Bord gauche du rectangle considéré</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">...</span><span class="p">):</span> <span class="c1"># répéter ... fois</span>
        <span class="n">sommeInf</span> <span class="o">=</span> <span class="o">...</span>
        <span class="n">sommeSup</span> <span class="o">=</span> <span class="o">...</span>
        <span class="n">x</span> <span class="o">=</span> <span class="o">...</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">sommeInf</span><span class="p">,</span> <span class="n">sommeSup</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># collapse</span>
<span class="k">def</span> <span class="nf">rectangles</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">dx</span><span class="o">=</span><span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span> <span class="c1"># ... Largeur d&#39;un rectangle</span>

    <span class="n">sommeInf</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Aire des rectangles inférieurs</span>
    <span class="n">sommeSup</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Aire des rectangles supérieurs</span>

    <span class="c1"># Traitement</span>

    <span class="n">x</span><span class="o">=</span><span class="n">xmin</span>       <span class="c1"># Bord gauche du rectangle considéré</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>   <span class="c1"># Répéter n fois</span>
        <span class="n">sommeInf</span> <span class="o">=</span> <span class="n">sommeInf</span> <span class="o">+</span> <span class="n">dx</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">dx</span><span class="p">)</span>
        <span class="n">sommeSup</span> <span class="o">=</span> <span class="n">sommeSup</span> <span class="o">+</span> <span class="n">dx</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">sommeInf</span><span class="p">,</span> <span class="n">sommeSup</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Votre calcul ici </span>
<span class="n">r</span> <span class="o">=</span> <span class="n">rectangles</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(4.4799999999999995, 6.08)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Quelle est l'incertitude commise par cet encadrement ?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1.6000000000000005</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Comment augmenter la précision de ce calcul et diminuer cette incertitude ? Modifier votre programme pour donner une valeur de l'aire sous la courbe d'une précision d'au moins 0,1</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># collapse</span>

<span class="c1"># On augmente le nb de rectangles</span>
<span class="c1"># jusqu&#39;à obtenir la précision souhaitée</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">rectangles</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Précision : &quot;</span><span class="p">,</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">r</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Précision :  0.08000000000000007
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(5.293199999999998, 5.373199999999998)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Modification-de-l'algorithme">Modification de l'algorithme<a class="anchor-link" href="#Modification-de-l'algorithme"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On souhaite à présent modifier le programme afin d'obtenir un encadrement avec une précision fixée au départ. Par exemple : obtenir un encadrement de l'aire sous la courbe avec une précision d'au moins 0,0001. Que faut-il modifier dans notre algorithme pour arriver à ce résultat ?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ecrire un programme donnant un encadrement de l'aire avec une précision d'au moins 0,0001.</p>
<p>Combien avez-vous utilisé de rectangles pour arriver à cette précision ?</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># collapse</span>

<span class="c1"># On introduit une boucle tant que </span>
<span class="c1"># pour obtenir la rpécision souhaitée :</span>
<span class="c1"># on appelle la fonction rectangles en multipliant par 10</span>
<span class="c1"># le nombre de rectangles à chaque nouvel appel</span>

<span class="k">def</span> <span class="nf">aire</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">prec</span><span class="p">):</span>
    <span class="n">p</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">while</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="n">prec</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">n</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">rectangles</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aire</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>((5.33329333320509, 5.333373333205089), 100000)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Notation">Notation<a class="anchor-link" href="#Notation"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On note l'aire sous la courbe que nous venons de calculer : $\displaystyle \int_0^2 4-x^2~ dx \approx 5,3333$</p>

</div>
</div>
</div>
</div>
 

