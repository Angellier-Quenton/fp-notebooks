---
keywords: fastai
description: Cours NSI Terminale - Thème 1.
title: Implémenter la classe arbre binaire
toc: true 
badges: true
comments: false
categories: [python, NSI, Terminale, Structure_donnees, POO, TP]
image: images/nsi1.png
nb_path: _notebooks/2020-08-02-nsi_t_poo_arbre.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-08-02-nsi_t_poo_arbre.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Validez cette cellule pour importer graphviz</span>
<span class="c1"># Ce module permet de dessiner des arbres et des graphes</span>
<span class="kn">from</span> <span class="nn">graphviz</span> <span class="kn">import</span> <span class="n">Digraph</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dans ce TP nous allons implémenter une classe permettant de représenter un arbre binaire.</p>
<p>On va pour cela créer un objet <strong>Noeud</strong> qui aura 3 propriétés (ou attributs) :</p>
<ul>
<li>La propriété <strong>valeur</strong> contiendra la valeur associée au noeud. </li>
<li>Les propriétés <strong>gauche</strong> et <strong>droit</strong> seront les sous arbres gauche et droit. </li>
</ul>
<p>Les deux propriétés <strong>gauche</strong> et <strong>droit</strong> seront  des instances de la classe <strong>Noeud</strong>. Si il n'y a pas de sous arbre gauche ou droit, on indiquera la valeur <strong>None</strong> dans les propriétés correspondantes.</p>
<p>Dans notre classe <strong>Noeud</strong>, nous créerons 3 méthodes :</p>
<ul>
<li>La méthode <strong>est_feuille()</strong> renverra un bouléen selon que l'objet est une feuille ou non.</li>
<li>La méthode <strong>cree_feuille_gauche()</strong> prend en paramètre une valeur et crée une feuille à gauche dont la valeur est passée en paramètres.</li>
<li>La méthode <strong>cree_feuille_droite()</strong> est construite sur le même modèle que <strong>cree_feuille_gauche()</strong>.</li>
</ul>
<h2 id="Exemple-d'utilisation-de-la-classe-Noeud">Exemple d'utilisation de la classe Noeud<a class="anchor-link" href="#Exemple-d'utilisation-de-la-classe-Noeud"> </a></h2><p>En supposant la classe <strong>Noeud</strong> créée, voici comment on l'utilise pour créer cet arbre
<img src="/images/copied_from_nb/my_icons/exemple1.png" alt="exemple1"></p>
<div class="highlight"><pre><span></span><span class="n">arbre</span> <span class="o">=</span> <span class="n">Noeud</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
<span class="n">sous_arbre_gauche</span> <span class="o">=</span> <span class="n">arbre</span><span class="o">.</span><span class="n">cree_fils_gauche</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="n">sous_arbre_gauche</span><span class="o">.</span><span class="n">cree_fils_gauche</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
<span class="n">arbre</span><span class="o">.</span><span class="n">cree_fils_droit</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">)</span>

<span class="c1"># Quelques vérifications possibles</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arbre</span><span class="o">.</span><span class="n">est_feuille</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arbre</span><span class="o">.</span><span class="n">droit</span><span class="o">.</span><span class="n">est_feuille</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arbre</span><span class="o">.</span><span class="n">gauche</span><span class="o">.</span><span class="n">valeur</span><span class="p">)</span>
<span class="c1"># Affiche False True B</span>
</pre></div>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Noeud</span><span class="p">():</span>
    
    <span class="c1"># la méthode __repr__ définit ce qui sera affiché</span>
    <span class="c1"># lorsqu&#39;on tapera l&#39;objet dans Jupyter ou un terminal</span>
    <span class="c1"># Ici, on affiche juste la valeur du noeud</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">valeur</span><span class="p">)</span>
    
    <span class="c1"># Codez ici les méthodes demandées</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Testez ici les méthodes de votre classe</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Noeud</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Tester l&#39;exemple de départ</span>

<span class="n">racine</span> <span class="o">=</span> <span class="n">Noeud</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
<span class="n">sous_arbre_gauche</span> <span class="o">=</span> <span class="n">racine</span><span class="o">.</span><span class="n">cree_fils_gauche</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="n">sous_arbre_gauche</span><span class="o">.</span><span class="n">cree_fils_gauche</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
<span class="n">racine</span><span class="o">.</span><span class="n">cree_fils_droit</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">)</span>

<span class="k">assert</span> <span class="ow">not</span> <span class="n">racine</span><span class="o">.</span><span class="n">est_feuille</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">racine</span><span class="o">.</span><span class="n">droit</span><span class="o">.</span><span class="n">est_feuille</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">racine</span><span class="o">.</span><span class="n">gauche</span><span class="o">.</span><span class="n">valeur</span> <span class="o">==</span> <span class="s2">&quot;B&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pour-aller-plus-loin">Pour aller plus loin<a class="anchor-link" href="#Pour-aller-plus-loin"> </a></h2><p>On peut compléter cette classe <strong>Noeud</strong> par une nouvelle classe décrivant un objet <strong>Arbrebin</strong>. Un arbre va contenir le <strong>Noeud</strong> racine ainsi que des méthodes permettant l'affichage de l'arbre ou appliquant des algorithmes sur cet arbre.</p>
<p>Nous verrons un peu plus tard dans l'année quelques uns de ces algorithmes. Néanmoins, pour vous donner un aperçu, voici une première ébauche de la classe <strong>Arbrebin</strong> qui nous sera utile pour visualiser facilement les arbres sur lesquels nous travaillerons.</p>
<p>Dans un premier temps, il n'est pas strictement nécessaire de comprendre les détails du fonctionnement de la méthode <strong>show</strong> car celle-ci fait appel à de la <em>récursivité</em> qui sera étudiée un peu plus tard.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Arbrebin</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Représente un objet arbre binaire</span>
<span class="sd">    - Propriétés : </span>
<span class="sd">        * racine : objet de type Noeud désignant la racine de l&#39;arbre</span>
<span class="sd">    - Méthodes :</span>
<span class="sd">        * show() : représentation graphique de l&#39;arbre à l&#39;aide de graphviz</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">racine</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">racine</span> <span class="o">=</span> <span class="n">racine</span>
    
    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Renvoie un objet graphviz pour la visualisation graphique de l&#39;arbre&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">representation</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">noeud</span><span class="p">,</span> <span class="n">aretes</span><span class="p">):</span>
            <span class="c1"># Ajoute la représentation du noeud à la représentation dot de l&#39;arbre</span>
            <span class="k">if</span> <span class="n">noeud</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">noeud</span><span class="p">)),</span> <span class="nb">str</span><span class="p">(</span><span class="n">noeud</span><span class="o">.</span><span class="n">valeur</span><span class="p">))</span>
                <span class="c1"># Appel récursif de la fonction representation</span>
                <span class="k">if</span> <span class="n">noeud</span><span class="o">.</span><span class="n">gauche</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">representation</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">noeud</span><span class="o">.</span><span class="n">gauche</span><span class="p">,</span> <span class="n">aretes</span><span class="p">)</span>
                    <span class="n">aretes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">noeud</span><span class="p">))</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">noeud</span><span class="o">.</span><span class="n">gauche</span><span class="p">))))</span>
                <span class="k">if</span> <span class="n">noeud</span><span class="o">.</span><span class="n">droit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">representation</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">noeud</span><span class="o">.</span><span class="n">droit</span><span class="p">,</span> <span class="n">aretes</span><span class="p">)</span>
                    <span class="n">aretes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">noeud</span><span class="p">))</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">noeud</span><span class="o">.</span><span class="n">droit</span><span class="p">))))</span>
                    
        <span class="n">dot</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s2">&quot;Arbre binaire&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
        <span class="n">aretes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">representation</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">racine</span><span class="p">,</span> <span class="n">aretes</span><span class="p">)</span>
        <span class="n">dot</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">aretes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dot</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arbre</span> <span class="o">=</span> <span class="n">Arbrebin</span><span class="p">(</span><span class="n">racine</span><span class="p">)</span>
<span class="n">arbre</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="A-vous-de-jouer">A vous de jouer<a class="anchor-link" href="#A-vous-de-jouer"> </a></h2><p>A présent, vous utiliserez la classe <strong>Noeud</strong> et <strong>Arbrebin</strong> et les méthodes que vous avez développées pour représenter l'arbre suivant dans la variable <code>expr</code>
<img src="/images/copied_from_nb/my_icons/expr.png" alt="expression"></p>
<p>Les opérations seront représentées par des chaînes de caractères. Les feuilles seront des entiers.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
<span class="n">expr</span> <span class="o">=</span> <span class="n">Arbrebin</span><span class="p">(</span><span class="n">racine</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Validation de la réponse</span>
<span class="k">assert</span> <span class="n">racine</span><span class="o">.</span><span class="n">valeur</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span>
<span class="k">assert</span> <span class="n">racine</span><span class="o">.</span><span class="n">droit</span><span class="o">.</span><span class="n">valeur</span> <span class="o">==</span> <span class="mi">1</span>

<span class="n">expr</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Afficher le sous arbre gauche :</span>
<span class="n">Arbrebin</span><span class="p">(</span><span class="n">racine</span><span class="o">.</span><span class="n">gauche</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion"> </a></h1><p>Nous en resterons la pour le moment. Nous reviendrons sur les arbres plusieurs fois au cours de l'année car cette structure permet de mettre en oeuvre des algorithmes intéressants. Nous complèterons donc notre classe arbre au fur à mesure de la progression de nos conaissance, en particulier lorsque nous étudierons la récursivité.</p>

</div>
</div>
</div>
</div>
 

